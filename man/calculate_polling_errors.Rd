% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/use_survey_data.R
\name{calculate_polling_errors}
\alias{calculate_polling_errors}
\title{Calculate Average Polling Errors}
\usage{
calculate_polling_errors(
  survey_data,
  election_data,
  poll_data,
  filter_polling_firm = NULL,
  filter_party = NULL
)
}
\arguments{
\item{survey_data}{A data frame containing survey data with columns:
\itemize{
\item \code{date_elec}: The date of the election.
\item \code{polling_firm}: The name of the polling firm.
\item \code{party}: The political party for which the vote share is estimated.
\item \code{vote_share}: The estimated vote share from the survey.
}}

\item{election_data}{A data frame containing election data with columns:
\itemize{
\item \code{date_elec}: The date of the election.
\item \code{abbrev_candidacies}: The abbreviation of the candidacies (parties).
\item \code{total_ballots}: The total number of ballots cast for each party.
}}

\item{poll_data}{A data frame containing polling data with columns:
\itemize{
\item \code{date_elec}: The date of the election.
\item \code{total_ballots}: The total number of ballots cast in each polling station.
}}

\item{filter_polling_firm}{Optional. A vector of polling firms to filter by. If NULL (default),
no filtering by polling firm is applied.}

\item{filter_party}{Optional. A vector of parties to filter by. If NULL (default),
no filtering by party is applied.}
}
\value{
A data frame with the average polling error for each polling firm and party,
optionally filtered by the specified polling firms and/or parties. The data frame includes:
\itemize{
\item \code{date_elec}: The date of the election.
\item \code{polling_firm}: The name of the polling firm.
\item \code{party}: The political party.
\item \code{avg_polling_error}: The average polling error for the given firm and party.
}
}
\description{
This function calculates the average polling error for each polling firm and party,
based on the provided survey, election, and polling data. It allows for optional filtering
by specific polling firms and/or parties.
}
\examples{
\dontrun{
# Example usage with all data
polling_errors <- calculate_polling_errors(survey_data, election_data, poll_data)
print(polling_errors)

# Example usage with filtering by polling firm
polling_errors_firm <- calculate_polling_errors(
  survey_data,
  election_data,
  poll_data,
  filter_polling_firm = c("Firm A", "Firm B")
)
print(polling_errors_firm)

# Example usage with filtering by party
polling_errors_party <- calculate_polling_errors(
  survey_data,
  election_data,
  poll_data,
  filter_party = c("Party X", "Party Y")
)
print(polling_errors_party)

# Example usage with filtering by both polling firm and party
polling_errors_filtered <- calculate_polling_errors(
  survey_data,
  election_data,
  poll_data,
  filter_polling_firm = c("Firm A"),
  filter_party = c("Party X")
)
print(polling_errors_filtered)
}
}
\author{
Mikaela De Smedt
}
